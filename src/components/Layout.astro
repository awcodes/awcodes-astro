---
import '../styles/style.scss';
import Logo from '../components/Logo.astro';
import Icon from './Icon.astro';

export interface Props {
  title?: string;
  description?: string;
  robots?: string;
}

const {title = null, description = null, robots = 'index,follow'} = Astro.props;

const today = new Date();
const url = new URL(Astro.request.url);
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content={robots} />
    <title>{title ? title + " | aw.codes" : "aw.codes"}</title>
    {description && (
      <meta name="description" content={description} />
    )}
  </head>

  <body>
    <div class="wrapper">
      <header role="banner">
        <a href="/">
          <div class="logo"><Logo class="h-full w-auto" /><span class="sr-only">Home page</span></div>
        </a>
        <nav aria-label="primary">
          <ul class="cluster" role="list">
            <li>
              <a href="/" aria-current={ url.pathname == '/' ? 'page' : false }>Home</a>
            </li>
            <li>
              <a href="/work/" aria-current={ url.pathname.includes('/work/') ? 'page' : false }>Work</a>
            </li>
            <li>
              <a href="/blog/" aria-current={ url.pathname.includes('/blog/') ? 'page' : false }>Blog</a>
            </li>
            <li>
              <a href="https://github.com/awcodes" target="_blank">
                <Icon name="github" />
                <span class="sr-only">Github</span>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/awcodes1" target="_blank">
                <Icon name="twitter" />
                <span class="sr-only">Twitter</span>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/in/awcodes/" target="_blank">
                <Icon name="linkedin" />
                <span class="sr-only">LinkedIn</span>
              </a>
            </li>
          </ul>
        </nav>
      </header>
      <main role="main">
        <slot />
      </main>
      <footer role="contentinfo">
        <p>&copy; { today.getFullYear() !== 2021 ? `2021 - ${today.getFullYear()}` : '2021' }. All the rights are belonging to me.</p>
      </footer>
    </div>
  </body>
</html>