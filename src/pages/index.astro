---
import Layout from "../components/Layout.astro";
import Pill from "../components/Pill.astro";
import WorkCard from '../components/WorkCard.astro';

const allWork = await Astro.glob("./work/**/*.mdx").then(res => {
  return res.sort((a,b) => Math.sign(a.frontmatter.order - b.frontmatter.order));
});

const featuredWork = allWork.filter(work => work.frontmatter.featured);
---

<Layout title="Welcome" description="I'm Adam and I just so happen to develop things for the web.">
  <section>
    <h1>Welcome to my little corner of the interwebs.</h1>
    <p class="text-lg md:text-2xl mt-2">I'm Adam and I just so happen to develop things for the web, but you probably know that. I can't imagine any other reason you'd be looking at my site.</p>
  </section>

  <section class="mt-16">
    <h2>Tech I use and experiment with</h2>
    <ul role="list" class="flex items-center flex-wrap gap-2">
      <li>
        <Pill>HTML</Pill>
      </li>
      <li>
        <Pill>CSS</Pill>
      </li>
      <li>
        <Pill>JavaScript</Pill>
      </li>
      <li>
        <Pill>PHP</Pill>
      </li>
      <li>
        <Pill>MySQL</Pill>
      </li>
      <li>
        <Pill>Laravel</Pill>
      </li>
      <li>
        <Pill>Filament</Pill>
      </li>
      <li>
        <Pill>Tailwind CSS</Pill>
      </li>
      <li>
        <Pill>Alpine.js</Pill>
      </li>
      <li>
        <Pill>11ty</Pill>
      </li>
      <li>
        <Pill>Astro</Pill>
      </li>
      <li>
        <Pill>React</Pill>
      </li>
      <li>
        <Pill>Vue</Pill>
      </li>
      <li>
        <Pill>WordPress</Pill>
      </li>
    </ul>
  </section>

  {featuredWork.length > 0 && (
    <section class="mt-16">
      <div class="flex items-center justify-between">
        <h2 class="mb-0">Some of My Work</h2>
        <p class="mb-0">
          <a href="/work/">View all work</a>
        </p>
      </div>
      <ul role="list" class="grid gap-x-6 gap-y-12 md:grid-cols-3">
        {featuredWork.slice(0,3).map((work) => (
            <li>
              <WorkCard work={work} />
            </li>
          ))}
      </ul>

    </section>
  )}
</Layout>
